<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Modificar Mascota</title>
    <link rel="stylesheet" href="/css/modificar_cliente.css" />
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
  </head>
  <body>
    <header class="banner">
      <div class="banner-content">
        <div class="nav-left">
          <img src="/assets/images/logo_shiba.png" alt="Logo" class="logo" />
          <span class="brand-name">Clínica Shiba</span>
        </div>
      </div>
    </header>

    <div class="container">
      <div class="form-header">
        <div class="title-section">
          <i data-lucide="edit"></i>
          <h1>Modificar Mascota</h1>
        </div>
      </div>

      <div th:if="${mascota != null}" class="form-wrapper">
        <form
          class="form-container"
          th:object="${mascota}"
          th:action="@{/mascota/update/{id}(id=${mascota.id})}"
          method="post">
          <div class="form-grid">
            <div class="form-group">
              <label for="nombre">Nombre</label>
              <div class="input-container">
                <i data-lucide="paw" class="input-icon"></i>
                <input
                  th:field="*{nombre}"
                  type="text"
                  id="nombre"
                  placeholder="Ingresa el nombre de la mascota"
                  required />
              </div>
            </div>

            <div class="form-group">
              <label for="raza">Raza</label>
              <div class="input-container">
                <i data-lucide="tag" class="input-icon"></i>
                <input
                  th:field="*{raza}"
                  type="text"
                  id="raza"
                  placeholder="Ingresa la raza"
                  required />
              </div>
            </div>

            <div class="form-group">
              <label for="edad">Edad</label>
              <div class="input-container">
                <i data-lucide="calendar" class="input-icon"></i>
                <input
                  th:field="*{edad}"
                  type="number"
                  id="edad"
                  placeholder="Ingresa la edad en años"
                  required />
              </div>
            </div>

            <div class="form-group">
              <label for="peso">Peso</label>
              <div class="input-container">
                <i data-lucide="scale" class="input-icon"></i>
                <input
                  th:field="*{peso}"
                  type="number"
                  step="0.1"
                  id="peso"
                  placeholder="Ingresa el peso en kg"
                  required />
              </div>
            </div>

            <div class="form-group">
              <label for="enfermedad">Enfermedad</label>
              <div class="input-container">
                <i data-lucide="alert-circle" class="input-icon"></i>
                <input
                  th:field="*{enfermedad}"
                  type="text"
                  id="enfermedad"
                  placeholder="Ingresa la enfermedad"
                  required />
              </div>
            </div>

            <div class="form-group">
              <label for="foto">Foto</label>
              <div class="input-container">
                <i data-lucide="image" class="input-icon"></i>
                <input
                  th:field="*{foto}"
                  type="text"
                  id="foto"
                  placeholder="Ingresa la URL de la foto"
                  required />
              </div>
            </div>

            <div class="form-group">
              <label for="estado">Estado</label>
              <div class="input-container">
                <i data-lucide="check-circle" class="input-icon"></i>
                <select th:field="*{estado}" id="estado" required>
                  <option th:value="true" th:selected="${mascota.estado}">
                    Activo
                  </option>
                  <option th:value="false" th:selected="${!mascota.estado}">
                    Inactivo
                  </option>
                </select>
              </div>
            </div>

            <div class="form-group">
              <label for="cedulaCliente">Cédula del Cliente</label>
              <div class="input-container">
                <i data-lucide="user" class="input-icon"></i>
                <input
                  type="text"
                  id="cedulaCliente"
                  name="cedulaCliente"
                  th:value="${mascota.cliente != null ? mascota.cliente.cedula : ''}"
                  placeholder="Ingresa la cédula del cliente"
                  required />
              </div>
            </div>

            <div class="form-group">
              <label for="idCliente">ID del Cliente</label>
              <div class="input-container">
                <i data-lucide="user" class="input-icon"></i>
                <input
                  type="number"
                  id="idCliente"
                  name="idCliente"
                  th:value="${mascota.cliente != null ? mascota.cliente.id : ''}"
                  placeholder="Ingresa el ID del cliente"
                  required />
              </div>
            </div>
          </div>

          <div class="form-footer">
            <a href="/mascota/all" class="cancel-button">
              <i data-lucide="x"></i>
              Cancelar
            </a>
            <button type="submit" class="submit-button">
              <i data-lucide="save"></i>
              Guardar Cambios
            </button>
          </div>
        </form>
      </div>

      <div th:if="${mascota == null}" class="error-container">
        <div class="error-content">
          <i data-lucide="alert-circle" class="error-icon"></i>
          <h2>Mascota no encontrada</h2>
          <p>No se pudo encontrar la información de la mascota solicitada.</p>
          <a href="/mascota/all" class="return-button">
            <i data-lucide="arrow-left"></i>
            Volver a la lista de mascotas
          </a>
        </div>
      </div>
    </div>

    <script>
      // Inicializar los íconos de Lucide
      lucide.createIcons();
    </script>
  </body>
</html>
