<!-- Mostrar_todas_mascotas.html con posibilidad de edicion-->
<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Todas Nuestras Mascotas</title>
    <link rel="stylesheet" href="/css/client_view.css" />
    <script src="https://unpkg.com/lucide@latest"></script>
  </head>
  <body>
    <!-- Encabezado de la página -->
    <header class="banner">
      <div class="banner-content">
        <div class="nav-left">
          <img src="/assets/images/logo_shiba.png" alt="Logo" class="logo" />
          <span class="brand-name">Clínica Shiba</span>
        </div>
      </div>
    </header>

    <!-- Contenido de la página -->
    <section class="container">
      <article class="table-header">
        <div class="title-section" style="display: flex; align-items: center;">
          <i data-lucide="users"></i>

          <a href="/mascota/edit" style="text-decoration: none;"><h1 style="margin: 1 10px 0 0;">Lista de Mascotas</h1>
          <a href="/mascota/add" class="add-button" style="margin: 1rem;"> Agregar Mascota </a>
        </div>
        <div class="search-section">
          <form action="/mascota/search" method="get">
            <div class="search-container">
              <i data-lucide="search" class="search-icon"></i>
              <input type="text" name="query" placeholder="Buscar mascotas..." required class="search-input">
              <!-- Remove the search button -->
            </div>
          </form>
        </div>
      </article>

      <!-- Tabla de mascotas -->
      <article class="table-container">
        <table>
          <thead>
            <tr>
              <th>Nombre</th>
              <th>Edad</th>
              <th>Raza</th>
              <th>Peso</th>
              <th>Enfermedad</th>
              <th>Foto</th>
              <th>Estado</th>
              <th>Cédula del Cliente</th>
              <th class="actions-header">Acciones</th>
            </tr>
          </thead>
          <tbody>
            <tr th:each="mascota : ${mascotas}" th:attr="data-id=${mascota.id}">
              <td>
                <a
                  class="pet-link"
                  th:href="@{/mascota/find(id=${mascota.id})}"
                  th:text="${mascota.nombre}">
                </a>
              </td>
              <td th:text="${mascota.edad}"></td>
              <td th:text="${mascota.raza}"></td>
              <td th:text="${mascota.peso}"></td>
              <td th:text="${mascota.enfermedad}"></td>
              <td>
                <img
                  th:src="${mascota.foto}"
                  alt="Foto de Mascota"
                  width="100"
                  height="100" />
              </td>
              <td>
                <span
                  th:text="${mascota.estadoTexto}"
                  th:style="${mascota.estado ? 'color: green;' : 'color: red;'}"
                  class="status">
                </span>
              </td>

              <td
                th:text="${mascota.cliente != null ? mascota.cliente.cedula : ''}"></td>
              <td class="actions-cell">
                <a
                  th:href="@{/mascota/update/{id}(id=${mascota.id})}"
                  class="action-button edit-button">
                  <i data-lucide="edit-2"></i>
                </a>
              </td>
            </tr>
          </tbody>
        </table>
      </article>

      <article class="table-footer">
        <div class="pagination">
          <button class="pagination-button" disabled>
            <i data-lucide="chevron-left"></i>
          </button>
          <span class="pagination-info">Página 1 de 1</span>
          <button class="pagination-button" disabled>
            <i data-lucide="chevron-right"></i>
          </button>
        </div>
      </article>
    </section>

    <script>
      lucide.createIcons();
    </script>
  </body>
</html>
